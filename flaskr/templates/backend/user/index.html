{% extends "backend/layout/base.html" %}

{% block header %}
    <h1>{% block title %}Usuarios{% endblock %}</h1>
{% endblock %}

{% block content %}
    <div class="col-md-12 text-end">
        {% if g.user %}
            <a class="btn btn-success" href="{{ url_for('backend.blog.create') }}">Crear nuevo</a>
        {% endif %}
    </div>
    <div class="col-md-12">
        <table id="table_id">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>NOMBRE</th>
                    <th>EMAIL</th>
                    <th>EDITAR</th>
                    <th>ELIMINAR</th>
                </tr>
            </thead>
        </table>

    </div>
{% endblock %}

{% block scripts %}
    <script>
        jQuery(document).ready(function () {
          jQuery('#table_id').DataTable({
            bProcessing: true,
            bServerSide: true,
            sPaginationType: "full_numbers",
            lengthMenu: [[10, 25, 50, 100], [10, 25, 50, 100]],
            bjQueryUI: true,
            sAjaxSource: 'http://localhost:5000/backend/datatables/serverside_table/users',
            columns: [
              {"data": "ID"},
              {"data": "NOMBRE"},
              {"data": "EMAIL"},
              {"data": "EDITAR"},
              {"data": "ELIMINAR"}
            ],
            language: {
                'lengthMenu': 'Mostrar _MENU_ Usuarios',
                'zeroRecords': 'No hay Usuarios',
                'info': 'Mostrando pagina _PAGE_ de _PAGES_',
                'infoEmpty': 'No hay Usuarios disponibles',
                'infoFiltered': '(Total: _MAX_ Usuarios)',
                'search': 'Buscar'
            }
          });
        });
    </script>
{% endblock %}
